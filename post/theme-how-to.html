<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>lilac theme how-to </title>
    <link rel="stylesheet" href="/classic/static/css/layout.css" type="text/css" />
    <link rel="stylesheet" href="/classic/static/css/post.css" type="text/css" />
  </head>
  <body>
    <!-- 960px width container -->
    <div class="container">
      <!-- header -->
      <div class="header">
        <h1><a href="/">Make Difference</a></h1>
        <h2>Here goes your blog's description</h2>
        <div class="separator nav"><span><a href="/">Home</a> * <a href="/tags.html">Tags</a> * <a href="/archives.html">Archives</a> * <a href="/about.html">About</a> * <a href="/feed.atom">Rss</a> </span></div>
        <p class="flourish"><img src="/classic/static/images/flourish.svg" height="60px" alt=""></p>
      </div>
      <div class="content">
        <h1 class="title">lilac theme how-to</h1>
<p class="separator"><span class="date">May  27, 13</span></p>
<div class="post-html"><h1>Getting Start</h1>

<p>Nice to see that you want to create one theme or to modify your theme.</p>

<p>You can check out theme <a href="https://github.com/hit9/lilac/tree/master/lilac/resources/classic">classic</a>.</p>

<p>We use the excellent templating engine <a href="https://github.com/mitsuhiko/jinja2">jinja2</a> to render templates, you may need to take 15 mins to 
learn <a href="http://jinja.pocoo.org/docs/templates/">how to write jinja2 templates</a>.</p>

<h1>Theme structure</h1>

<p>lilac only knows where to find jinja2 templates, but it doesn&#39;t care where the images are or where the stylesheets are.</p>

<p>Just put all templates right under the root of your theme directory.</p>

<p>The minimal required templates should be:</p>

<ul>
<li>post.html</li>
<li>tag.html</li>
<li>page.html</li>
<li>tags.html</li>
<li>archives.html</li>
<li>about.html</li>
<li>404.html</li>
</ul>

<h1>Variables in templates</h1>

<p>We need to know variables in each template.</p>

<p>Checking out the <a href="https://github.com/hit9/lilac/blob/master/lilac/models.py">models definition</a> may help a lot.</p>

<h2>1. Global variables</h2>

<p>3 variables can be acccessed in every template, they are:</p>

<ul>
<li>blog   &mdash; attributes: name, url, decription, theme</li>
<li>author &mdash; attributes: name, email, gravatar_id</li>
<li>config &mdash; attributes: all vars in config.toml</li>
</ul>

<p>For any var defined in <code>config.toml</code>, for instance:</p>

            <div class="highlight">
              <pre><code>[mysettings]
myvar = 12345</code></pre>
            </div>
            
<p>we can get it in any template like this:</p>

            <div class="highlight">
              <pre><code>{{ config.mysettings.myvar }}</code></pre>
            </div>
            
<p>But using <code>{{ blog.name }}</code> is better than <code>{{ config.blog.name }}</code></p>

<h2>2. post.html</h2>

<p>It&#39;s the post&#39;s content page. (i.e. <code>/post/sample-post.html</code>)</p>

<p>variable: <code>post</code></p>

<p>attributes:</p>

            <div class="highlight">
              <pre><code>name        str        post&#39;s filename without extension
title       str        post&#39;s title
datetime    datetime   post&#39;s create time, e.g. &quot;2012-10-10 13:20&quot;
tags        list       post&#39;s tags
markdown    str        post&#39;s markdown source(its body)
html        str        post&#39;s html(markdown rendered)
summary     str        post&#39;s summary</code></pre>
            </div>
            
<p>As a sample: we want to display a single post</p>
<div class="highlight"><pre><span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>{{post.title}}<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;p&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;date&quot;</span><span class="nt">&gt;</span>{{post.datetime.strftime(&quot;%b  %d, %y&quot;)}}<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>  {# created at #}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;post-html&quot;</span><span class="nt">&gt;</span>{{post.html}}<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;tags&quot;</span><span class="nt">&gt;</span>
  {%for tag in post.tags%}
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/tag/{{tag}}.html&quot;</span><span class="nt">&gt;</span>{{tag}}<span class="nt">&lt;/a&gt;</span>
  {%endfor%}
<span class="nt">&lt;/div&gt;</span>
</pre></div>

<p>And, for any variables defined in post&#39;s header, can get it this way: <code>{{post.myvar}}</code></p>

<h2>3. tag.html</h2>

<p>It&#39;s the tag&#39;s content page. (i.e. <code>/tag/sample-tag.html</code>)</p>

<p>variable: <code>tag</code></p>

<p>attributes:</p>

            <div class="highlight">
              <pre><code>name      str         tag&#39;s name
posts     list        posts in this tag</code></pre>
            </div>
            
<p>Sample: we want to display a single tag&#39;s page</p>
<div class="highlight"><pre><span class="nt">&lt;h1</span> <span class="na">class=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Tag: {{tag.name}}<span class="nt">&lt;/h1&gt;</span>
{%for post in tag.posts%}
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/post/{{post.name}}.html&quot;</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>{{post.title}}<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;date&quot;</span><span class="nt">&gt;</span>{{post.datetime.strftime(&quot;%Y-%m-%d&quot;)}}<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/p&gt;</span>
{%endfor%}
</pre></div>

<h2>4. page.html</h2>

<p>It&#39;s the page&#39;s content page. (<code>/index.html, /page/2.html, ..</code>)</p>

<p>variable: <code>page</code></p>

<p>attributes:</p>

            <div class="highlight">
              <pre><code>number    int   the order of this page
posts     list  the posts in this page
first     bool  is this page the first page?
last      bool  is this page the last page</code></pre>
            </div>
            
<p>Sample to list posts in some page:</p>
<div class="highlight"><pre>{%for post in page.posts%}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/post/{{post.name}}.html&quot;</span><span class="nt">&gt;</span>{{post.title}}<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
  <span class="nt">&lt;p&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;date&quot;</span><span class="nt">&gt;</span>{{post.datetime.strftime(&quot;%b  %d, %y&quot;)}}<span class="nt">&lt;/span&gt;&lt;/p&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;post-html&quot;</span><span class="nt">&gt;</span>
    {{post.summary}}
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;tags&quot;</span><span class="nt">&gt;</span>
    {%for tag in post.tags%}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/tag/{{tag}}.html&quot;</span><span class="nt">&gt;</span>{{tag}}<span class="nt">&lt;/a&gt;</span>
    {%endfor%}
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;readmore&quot;</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/post/{{post.name}}.html&quot;</span><span class="nt">&gt;</span>Read more  &gt;&gt; <span class="nt">&lt;/a&gt;&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{%endfor%}
</pre></div>

<h2>5. tags.html</h2>

<p>variable: <code>tags</code>, it&#39;s a list of tag objects.</p>

<p>To list all tags:</p>
<div class="highlight"><pre>{% for tag in tags %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/tag/{{tag.name}}.html&quot;</span><span class="nt">&gt;</span>{{tag.name}}<span class="nt">&lt;/a&gt;</span>x{{tag.posts|count }}
  {% endfor %}
</pre></div>

<h2>6. archives.html</h2>

<p>variable: <code>posts</code>, it&#39;s a list of post objects.</p>

<p>To list all posts:</p>
<div class="highlight"><pre>{%for post in posts%}
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/post/{{post.name}}.html&quot;</span> <span class="na">class=</span><span class="s">&quot;title&quot;</span><span class="nt">&gt;</span>{{post.title}}<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;date&quot;</span><span class="nt">&gt;</span>{{post.datetime.strftime(&quot;%Y-%m-%d&quot;)}}<span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/p&gt;</span>
  {%endfor%}
</pre></div>

<h2>7. about.html</h2>

<p>variables: about</p>

<p>attributes:</p>

            <div class="highlight">
              <pre><code>markdown  its content
html      its markdown&#39;s html</code></pre>
            </div>
            
<h2>8. 404.html</h2>

<p>No variables here(except global variables).</p>

<h2>Share your theme</h2>

<p>Have you created a great theme? share it via pulling request to <a href="https://github.com/hit9/lilac/blob/master/README.md">lilac&#39;s readme</a></p>

<h2>Questions?</h2>

<p>Send email to me(nz2324[AT]126.com) or new an issue on github.</p>
</div>
<div class="tags">
    <a href="/tag/themes.html">themes</a>
  </div>
<p class="separator"><span class="showsource"><a href="/src/post/theme-how-to.md">Show Source</a></span></p>
<div class="cut">* * *</div>
<!-- Disqus Comment BEGIN -->
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'your-disqus-short-name'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
<!-- Disqus Comment END -->
      </div>
      <!-- sticky footer hack-->
      <div class="footer-push"></div>
    </div>
    <div class="cut">* * *</div>
    <div class="footer">
      <p>
                Copyright &copy; 2013 - hit9 |
        Powered by <a href="https://github.com/hit9/lilac">lilac</a> |
        Theme by <a href="http://hit9.org">hit9</a>
              </p>
    </div>
    <a href="https://github.com/hit9"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:12" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
  </body>
</html>